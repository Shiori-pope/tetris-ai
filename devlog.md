# 开发日志：俄罗斯方块强化学习

## 2025-05-12
- 实现 NumPy 基本框架  
- 使用 AI 生成 Pygame 可视化窗口  

## 2025-05-13
- 调试纯 NumPy 版俄罗斯方块  
- 优化帧时间至 100 μs
- 实现碰撞体积检测

## 2025-05-14
- todo: 实现踢墙
后续todo: 先实现启发式搜索，再实现强化学习

## 2025-05-17
- 启发式搜索方案：
  - 针对每一种方块，生成其全部有效旋转组合，然后从各个可能位置直线下落，下落后尝试左右移动判断是否可以放置
  - 定位元（左上角坐标，旋转状态）
  - 通过上述枚举器，得到去重后的定位元（预估每一步的候选状态集在**30个**左右）
  - 先考虑使用贪心搜索法
  - 再考虑两步贪心，当前方块和下一个方块的公共贪心解，虽然有窗口滑动，但程序利用了全部有用的信息，ですよね？

## 2025-05-18
- 实现了启发式搜索 损失函数做了
## 2025-05-19
- 优化碰撞箱计算
- 实现两步启发搜索
- 修改了高阶启发函数
- 实现了遗传优化算法
- 大幅修改了枚举器函数
- 不是哥们BFS咋给我埋了个大坑
- 很好BFS直接删除了，由于卷积项很泛用，倒没啥影响
- 突破一万分！！！
- 两步贪心实现**永续**
## 2025-05-20
- 整理代码
- 测试两步贪心帧时间（近满状态）
  - call subHoleCount 532μs
  - call loss(无subHoleCount) 71.9μs
  - call conv2d 32.7μs
- 小改一步遗传算法价值函数 增加向一次多行消除的诱导
- 在使用非7-bag砖块生成器时，算法表现出和7-bag游戏**近乎一致**的性能

## 2025-05-21
- yc_final.log是不滑动多行诱导遗传算法
- 做得分-步数统计图
- 注：只有三套参
  - 无滑动 无诱导
  - 无滑动 有诱导
  - 有滑动 有诱导

## 2025-05-22
- 数据集合成 十个种子，每个各一万步

## 2025-05-29
- tetris_model3_1.2M.pth TNN3 1.2兆参数训练
- tetris_model3.0.pth TNN3 基础参数训练
- tetris_model1.2M.pth TNN 1.2兆参数训练